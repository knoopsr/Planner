(function(a,b){const c=a();function f(a,b){return _cmpb(b- -0x1a8,a);}while(!![]){try{const d=-parseInt(f(-0x81,-0x76))/0x1*(-parseInt(f(-0x79,-0x72))/0x2)+parseInt(f(-0x60,-0x4e))/0x3*(parseInt(f(-0x2c,-0x40))/0x4)+parseInt(f(-0x34,-0x4a))/0x5*(-parseInt(f(-0x6a,-0x75))/0x6)+parseInt(f(-0x43,-0x49))/0x7*(parseInt(f(-0x82,-0x77))/0x8)+parseInt(f(-0x5a,-0x5f))/0x9+-parseInt(f(-0x35,-0x50))/0xa*(-parseInt(f(-0x60,-0x55))/0xb)+-parseInt(f(-0x6f,-0x54))/0xc;if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0x4f375));function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0x12d;let f=c[d];return f;};return _cmpb(a,b);}import{Container,DomHelper,__publicField}from'./chunk-4QG53HPA.js';DomHelper[_cmpg(0x17b,0x185)](_cmpg(0x199,0x1a9));var UndoRedoBase=class extends Container{static get[_cmpg(0x17c,0x179)](){function h(a,b){return _cmpg(a-0x97,b);}return{'project':null,'stm':null,'text':null,'color':null,'showZeroActionBadge':null,'cls':h(0x23f,0x251),'layoutStyle':{'flexFlow':h(0x23a,0x24c),'overflow':h(0x234,0x215)},'items':{'undoBtn':{'type':h(0x20d,0x227),'icon':h(0x218,0x231),'tooltip':'L{UndoRedo.UndoLastAction}','onAction':'up.onUndo'},'transactionsCombo':{'type':h(0x21a,0x213),'valueField':h(0x23e,0x252),'editable':![],'store':{},'emptyText':h(0x209,0x1fe),'onAction':h(0x23c,0x253),'displayValueRenderer':'up.transactionsDisplayValueRenderer'},'redoBtn':{'type':h(0x20d,0x21f),'icon':h(0x214,0x1fb),'tooltip':'L{UndoRedo.RedoLastAction}','onAction':'up.onRedo'}},'overflowable':!![]};}['afterConstruct'](){function i(a,b){return _cmpg(b- -0xfd,a);}this[i(0xa8,0x9a)]();}[_cmpg(0x188,0x193)](a){this['detachListeners'](j(0x2ef,0x308));function j(a,b){return _cmpg(b-0x186,a);}a==null?void 0x0:a[j(0x2f7,0x30f)]({'name':j(0x2f8,0x308),'recordingstop':'updateUndoRedoControls','restoringstop':j(0x302,0x31d),'queueReset':'updateUndoRedoControls','disabled':j(0x30a,0x31d),'thisObj':this});}[_cmpg(0x194,0x1a3)](a){function k(a,b){return _cmpg(b- -0x419,a);}const {undoBtn:b,redoBtn:c}=a;if(this[k(-0x2a1,-0x28c)]){b&&(b[k(-0x284,-0x28c)]=this[k(-0x27a,-0x28c)]);c&&(c['color']=this[k(-0x27d,-0x28c)]);}if(this[k(-0x28d,-0x270)]){b&&(b[k(-0x28d,-0x270)]=k(-0x291,-0x277));c&&(c[k(-0x268,-0x270)]=k(-0x29e,-0x2a2));}return super['changeItems'](a);}[_cmpg(0x170,0x166)](a){function l(a,b){return _cmpg(a- -0x261,b);}this['stm']=a[l(-0xbb,-0xc0)];}[_cmpg(0x1a4,0x1a3)](){const {transactionsCombo:a}=this[m(0x1d8,0x1cd)];function m(a,b){return _cmpg(b-0x3f,a);}a&&(a[m(0x1c5,0x1d1)]=[[0x0,m(0x1aa,0x1c9)],...this[m(0x1c6,0x1e5)][m(0x1c9,0x1da)]['map']((b,c)=>[c+0x1,b||'Transaction\x20'+(c+0x1)])]);}['updateUndoRedoControls'](){const {stm:a,showZeroActionBadge:b}=this,{undoBtn:c,redoBtn:d,transactionsCombo:e}=this[n(0x11e,0x135)];c[n(0x15a,0x153)]=a[n(0x140,0x133)]||(b?'0':'');d[n(0x14f,0x153)]=a[n(0x144,0x137)]-a['position']||(b?'0':'');c[n(0x130,0x126)]=!a[n(0x155,0x145)];d[n(0x12d,0x126)]=!a[n(0x15b,0x146)];this['fillUndoRedoCombo']();function n(a,b){return _cmpg(b- -0x59,a);}if(e){e[n(0x136,0x126)]=e[n(0x124,0x120)][n(0x11e,0x12c)]<=0x1;}}['transactionsDisplayValueRenderer'](a,b){var c;const d=((c=this[o(-0x1d2,-0x1ed)])==null?void 0x0:c[o(-0x1ec,-0x207)])||0x0;function o(a,b){return _cmpg(a- -0x378,b);}return d+o(-0x1fe,-0x1e4)+(b['store'][o(-0x1f3,-0x1d7)]-d-0x1)+o(-0x1cd,-0x1df);}[_cmpg(0x193,0x17a)](){const {stm:a,project:b}=this;function p(a,b){return _cmpg(a-0x2a2,b);}if(a[p(0x440,0x44a)]){if(a['revisionsEnabled']){b['queue'](()=>{a[q(-0x5d,-0x5d)]();function q(a,b){return p(a- -0x490,b);}return b[q(-0x67,-0x86)]();});}else{a['undo']();}}}[_cmpg(0x17e,0x15f)](){const {stm:a,project:b}=this;function r(a,b){return _cmpg(b- -0x14a,a);}if(a['canRedo']){if(a[r(0x3f,0x3a)]){b[r(0x32,0x51)](()=>{function s(a,b){return r(a,b-0x1ed);}a['redo']();return b[s(0x246,0x22a)]();});}else{a[r(0x3c,0x45)]();}}}[_cmpg(0x198,0x1b0)](a){function t(a,b){return _cmpg(b- -0x10f,a);}const {stm:b}=this,c=b[t(0x8c,0x7d)]-a['value'];if(c>0x0){b[t(0x96,0x8f)]&&b[t(0x79,0x82)](c);}else if(c<0x0){b[t(0x76,0x90)]&&b[t(0x72,0x80)](-c);}}};__publicField(UndoRedoBase,_cmpg(0x16f,0x17b),'UndoRedoBase');function _cmpa(){const u=['updateStm','ion','Original\x20data','3252132THqeFh','position','color','widgetMap','redo','length','undo','items','onUndo','changeItems','3212URYwch','12386832Yxelex','updateUndoRedoControls','onTransactionSelected','Core/widget/base/UndoRedoBase.css','5380vonOIc','queue','117AIcDme','visible','canUndo','canRedo','895AWOkry','2468438maXLEX','L{UndoRedo.Undo}','row\x20nowrap','fillUndoRedoCombo','up.onTransactionSelected','stm','idx','b-undo-controls\x20b-toolbar','text','35780iMscnn','\x20redo\x20actions','badge','$name','updateProject','type','L{UndoRedo.NoActions}','8wcgrYk','3TcjAXX','14484vpTyiR','button','L{UndoRedo.Redo}','379252VBbJUM','store','\x20undo\x20actions\x20/\x20','loadStylesheet','configurable','b-icon-redo','onRedo','disabled','initClass','b-icon-undo','undoredo','combo','revisionsEnabled','count','_$name','commitAsync'];_cmpa=function(){return u;};return _cmpa();}__publicField(UndoRedoBase,_cmpg(0x171,0x16e),'undoredobase');UndoRedoBase[_cmpg(0x180,0x167)]();UndoRedoBase[_cmpg(0x186,0x180)]='UndoRedoBase';function _cmpg(a,b){return _cmpb(a-0x42,b);}export{UndoRedoBase};